(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a0d61358"],{"062c":function(e,t,n){},3159:function(e,t,n){},"35d2":function(e,t,n){e.exports=n.p+"img/download-keystore-grey.2cd87b2a.svg"},"51b0":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return L}));var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-container-block"},[a("div",{staticClass:"view-wallet-info-layout-container"},[a("interface-balance-modal",{ref:"balance",attrs:{balance:e.balance}}),a("view-private-key-modal",{ref:"viewPriv"}),a("print-modal",{ref:"printModal",attrs:{address:e.account.address}}),a("div",{staticClass:"page-title-block"},[a("h2",[e._v(e._s(e.$t("footer.view-wallet-info")))]),a("p",[e._v(" "+e._s(e.$t("accessWallet.wallet-options"))+" ")])]),a("div",{staticClass:"page-content-block flex--row--align-stretch"},[a("div",{staticClass:"wallet-info"},[a("div",{staticClass:"wallet-info-header"},[a("h3",[e._v(e._s(e.$t("accessWallet.wallet-info")))]),a("router-link",{attrs:{to:"/interface"}},[e._v(e._s(e.$t("common.wallet.access")))])],1),a("div",{staticClass:"balance-container"},[a("div",{staticClass:"balance-main-container"},[a("h4",[e._v(e._s(e.$t("common.balance.string")))]),a("div",{staticClass:"balance-and-buttons"},[a("p",[a("b",{directives:[{name:"show",rawName:"v-show",value:!e.fetchingBalance,expression:"!fetchingBalance"}]},[e._v(e._s(e.balance))]),a("i",{directives:[{name:"show",rawName:"v-show",value:e.fetchingBalance,expression:"fetchingBalance"}],staticClass:"fa fa-spinner fa-lg fa-spin"}),e._v(" "+e._s(e.network.type.currencyName)+" ")]),a("div",{staticClass:"balance-button-container"},[a("i",{staticClass:"fa fa-refresh fa-lg",on:{click:e.fetchBalance}}),a("img",{attrs:{src:n("951b")},on:{click:e.openBalance}})])])])]),a("div",{staticClass:"account-details"},[a("div",{staticClass:"blockie-container"},[a("blockie",{attrs:{address:e.account.address,width:"80px",height:"80px"}}),a("i18n",{attrs:{tag:"h3",path:"common.wallet.own"}},[a("span",{attrs:{slot:"nickname"},slot:"nickname"},[e._v(e._s(e.account.nickname))])]),a("div",{staticClass:"address-copy-container"},[a("input",{ref:"copyAddress",domProps:{value:e.account.address}}),a("p",[e._v(e._s(e._f("concatAddr")(e.account.address)))]),a("img",{attrs:{src:n("a428")},on:{click:e.copy}})])],1),a("div",{staticClass:"other-options"},[e._l(e.otherOptions,(function(t){return a("div",{key:t.key,class:[e.disableItem(t.key)?"item-disabled":"","option-item"],on:{click:t.func}},[a("img",{attrs:{src:e.disableItem(t.key)?t.iconDisabled:t.icon}}),a("p",[e._v(e._s(t.name))])])})),a("a",{ref:"downloadFile",attrs:{href:e.walletJson,download:e.filename,target:"_blank",rel:"noopener noreferrer"}})],2)])]),a("div",{staticClass:"wallet-tokens"},[a("interface-tokens",{attrs:{tokens:e.tokens,"get-token-balance":e.getTokenBalance,"received-tokens":!e.loading,"reset-token-selection":e.setTokensWithBalance,"fetch-tokens":e.fetchTokens,ads:!1,address:e.account.address}})],1)])],1)])},s=[],c=(n("99af"),n("4de4"),n("d81d"),n("b0c0"),n("a9e3"),n("d3b7"),n("ac1f"),n("25f0"),n("3ca3"),n("5319"),n("ddb0"),n("96cf"),n("c964")),i=n("f3f3"),o=n("2f62"),r=n("ce96"),l=n("8ded"),d=n.n(l),u=n("3578"),f=n.n(u),p=n("8f2d"),m=n("0598"),v=n("2480"),h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-modal",{ref:"viewPriv",staticClass:"bootstrap-modal",attrs:{title:e.$t("accessWallet.private-key.string"),"hide-footer":"",centered:"","no-padding":""}},[n("div",{staticClass:"modal-contents"},[n("qrcode",{attrs:{value:e.privKey,options:{size:200}}}),n("p",{staticClass:"priv-key"},[e._v(" "+e._s(e.privKey)+" ")]),n("div",{staticClass:"copy-button",on:{click:e.copy}},[e._v(" "+e._s(e.$t("common.copy"))+" "),n("input",{ref:"privKey",domProps:{value:e.privKey}})]),n("i18n",{staticClass:"red-warning",attrs:{path:"accessWallet.private-key.do-not-share",tag:"p"}},[n("b",{attrs:{slot:"do-not"},slot:"do-not"},[e._v(e._s(e.$t("common.do-not")))])])],1)])],1)},w=[],k={computed:Object(i["a"])({},Object(o["c"])("main",["wallet"]),{privKey:function(){return this.wallet.getPrivateKeyString()}}),methods:{copy:function(){this.$refs.privKey.select(),document.execCommand("copy"),r["e"].responseHandler(this.$t("interface.addr.copied-private-key"),r["e"].SUCCESS)}}},b=k,g=(n("ecf2"),n("2877")),y=Object(g["a"])(b,h,w,!1,null,"1572a781",null),x=y.exports,_=n("901e"),C=n("cb38"),B=n("c8e5"),O=n("e22c"),$=n.n(O),R=n("e615"),j=n.n(R),N=n("f688"),P=n.n(N),K=n("fd4d"),T=n.n(K),W=n("c088"),H=n.n(W),S=n("35d2"),J=n.n(S),E=n("86f3"),A=n("1131"),D=n.n(A),I={components:{"interface-tokens":v["a"],blockie:B["a"],"print-modal":p["a"],"view-private-key-modal":x,"interface-balance-modal":m["a"]},data:function(){var e=this;return{tokens:[],loading:!1,fetchingBalance:!1,balance:"0",otherOptions:[{name:"Private Key",key:"privKey",icon:T.a,iconDisabled:P.a,func:function(){e.openViewPriv()}},{name:"Txn History",key:"txnHis",icon:j.a,iconDisabled:j.a,func:function(){e.openTxHistory()}},{name:"Keystore File",key:"keyStor",icon:H.a,iconDisabled:J.a,func:function(){e.downloadKeystore()}},{name:"Print Wallet",key:"printWal",icon:$.a,iconDisabled:$.a,func:function(){e.printWallet()}}],walletJson:"",filename:""}},computed:Object(i["a"])({},Object(o["c"])("main",["account","network","web3"]),{hasNickname:function(){return this.account.nickname&&""!==this.account.nickname}}),mounted:function(){var e=JSON.parse(this.account.keystore).file,t=JSON.parse(this.account.keystore).name;this.fetchTokens(),this.fetchBalance(),this.account.isHardware||"undefined"===typeof this.account.keystore||(this.walletJson=Object(E["a"])(e,"mime"),this.filename=this.hasNickname?this.account.nickname:t)},destroyed:function(){this.tokens=[],this.loading=!1,this.balance="0",this.walletJson="",this.filename=""},methods:{disableItem:function(e){return"privKey"===e?!!this.account.isHardware:"keyStor"===e&&!r["d"].isMewCx()},printWallet:function(){this.$refs.printModal.$refs.print.show()},openBalance:function(){this.$refs.balance.$refs.balance.show()},downloadKeystore:function(){r["d"].isMewCx()?window.chrome.downloads.download({filename:this.filename,url:this.walletJson}):this.$refs.downloadFile.click()},openViewPriv:function(){this.$refs.viewPriv.$refs.viewPriv.show()},openTxHistory:function(){window.open("".concat(this.network.type.blockExplorerAddr.replace("[[address]]","")+this.account.address),"_blank")},fetchBalance:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.fetchingBalance=!0,t.next=3,e.web3.eth.getBalance(e.account.address);case 3:n=t.sent,e.balance=D.a.fromWei(n,"ether"),e.fetchingBalance=!1;case 6:case"end":return t.stop()}}),t)})))()},copy:function(){this.$refs.copyAddress.select(),document.execCommand("copy"),r["e"].responseHandler(this.$t("common.copied"),r["e"].INFO)},getTokenBalance:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var a,s,c,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,a=[{name:"balanceOf",type:"function",constant:!0,inputs:[{name:"address",type:"address"}],outputs:[{name:"out",type:"uint256"}]}],s=new t.web3.eth.Contract(a),c=s.methods.balanceOf(t.account.address).encodeABI(),n.next=6,t.web3.eth.call({to:e.address,data:c}).then((function(t){var n;if(0===Number(t)||"0x"===t)n=0;else{var a=new _["BigNumber"](10).pow(e.decimals);n=new _["BigNumber"](t).div(a).toString()}return n})).catch((function(e){r["e"].responseHandler(e,!1)}));case 6:return i=n.sent,n.abrupt("return",i);case 10:n.prev=10,n.t0=n["catch"](0),r["e"].responseHandler(n.t0,r["e"].ERROR);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})))()},fetchTokens:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,n=new f.a(e.web3.currentProvider),t.prev=2,t.next=5,n.getBalance(e.account.address);case 5:e.tokens=t.sent,e.tokens=e.tokens.map((function(e){var t=new _["BigNumber"](10).pow(e.decimals),n=new _["BigNumber"](e.balance).div(t).toString();return e.address=e.addr,e.balance=n,delete e.addr,e})),e.tokens=e.tokens.sort(C["a"]),e.loading=!1,t.next=16;break;case 11:t.prev=11,t.t0=t["catch"](2),e.tokens=e.network.type.tokens.map((function(e){return e.balance="Load",e})),e.tokens=e.tokens.sort(C["a"]),e.loading=!1;case 16:case"end":return t.stop()}}),t,null,[[2,11]])})))()},setTokensWithBalance:function(){var e=this,t=d.a.get("customTokens");void 0!==t&&void 0!==t[this.network.type.name]&&t[this.network.type.name].length>0?new Promise((function(n){var a=t[e.network.type.name].map(function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getTokenBalance(n);case 2:return n.balance=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());Promise.all(a).then((function(a){t[e.network.type.name]=a,d.a.set("customTokens",t),n(a)}))})).then((function(t){var n=e.tokens.filter((function(e){return e.balance>0})).concat(t.filter((function(e){return e.balance>0})));e.tokensWithBalance=n,e.loading=!0})).catch((function(e){r["e"].responseHandler(e,r["e"].ERROR)})):(this.loading=!0,this.tokensWithBalance=this.tokens.filter((function(e){return e.balance>0})))}}},F=I,M=(n("e796"),Object(g["a"])(F,a,s,!1,null,"2f367fd1",null)),L=M.exports},"86f3":function(e,t,n){"use strict";n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d");var a=n("0122");t["a"]=function(e,t){var n="object"===Object(a["a"])(e)?JSON.stringify(e):e;if(null===n)return"";var s=new Blob([n],{type:t});return window.URL.createObjectURL(s)}},"951b":function(e,t,n){e.exports=n.p+"img/more-black.b67ac29f.svg"},a428:function(e,t,n){e.exports=n.p+"img/copy-colored.d0f5333f.svg"},c088:function(e,t,n){e.exports=n.p+"img/download-keystore.f8ac3c2c.svg"},e22c:function(e,t,n){e.exports=n.p+"img/printer.7bd71512.svg"},e615:function(e,t,n){e.exports=n.p+"img/tx-history-spinner.6078e266.svg"},e796:function(e,t,n){"use strict";var a=n("062c"),s=n.n(a);s.a},ecf2:function(e,t,n){"use strict";var a=n("3159"),s=n.n(a);s.a},f688:function(e,t,n){e.exports=n.p+"img/private-key-grey.f8cb5fc5.svg"},fd4d:function(e,t,n){e.exports=n.p+"img/private-key.87cdb72a.svg"}}]);
//# sourceMappingURL=chunk-a0d61358.f21e447c.js.map